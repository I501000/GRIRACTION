# node-build

Utilities to build your Node.js project

## API

### JavaScript API

#### Including the package

```js
var build = require('node-build');
```

#### shell

Synchronously executes a command.

```js
build.shell(cmd, options);
```

Where `cmd` (a string) is the command to execute and `options` (an object) is an optional argument.
Refer to the options that Node's standard `child_process.execSync` function takes regarding possible properties for the `options` argument.

#### test

Recursively executes the tests in the _tests_ directory of the project.
Requires '_node_' to be available in the _PATH_ environment variable.
Uses [mocha](https://www.npmjs.com/package/mocha) as the test framework (and its --check-leaks flag),
and [c8](https://www.npmjs.com/package/c8) as the code coverage tool.
Uses Node's `--throw-deprecation` flag.
The environment variable _REPORTER_ can be used to set mocha's reporter.

```js
build.test(options, cmdC8Arguments, cmdArguments);
```

Both of these arguments are optional.
If provided, `options` should be an object. Refer to the options for the Node's standard `child_process.execSync` function
for possible properties. `cmdArguments` can be a string with command-line arguments.

**Note**: `node-build` does not bundle mocha and istanbul. These should be declared as `devDependencies` in your project.

### Executables

#### node-test

If your project does not require special tuning via the options that the JavaScript interface takes,
then it is possible to run the tests with the default configuration in the following manner:

_package.json_ content:

```json
{
  "devDependencies": {
    "node-build": "^2.0.1"
  },
  "scripts": {
    "test": "node-test"
  }
}
```
